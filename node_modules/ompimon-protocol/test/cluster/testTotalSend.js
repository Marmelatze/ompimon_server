var
    BufferBuilder = require("buffer-builder"),
    _ = require("underscore"),
    binary = require("binary"),
    Int64 = require('node-int64'),

    cluster = require('ompimon-cluster'),
    protocol = require("../../main"),
    protoData = require('../../cluster_actions/TotalSend'),
    Parser = require("../../parser"),

    stub = require("../../test-stub")
    ;

var client = stub.getTestClient("TotalSend");

client.ranks = [1, 2];

var action = new protoData();

module.exports = {
    testParse: function(test) {
        var parser = new Parser(stub.buildTotalSend(stub.totalSend).get());

        var result = action.parse(client, parser);

        test.deepEqual(result, stub.totalSend);

        test.done();
    }
};
