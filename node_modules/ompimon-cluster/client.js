/**
 * @module ompimon
 * @submodule ompimon-cluster
 */

var
    eventEmitter = require('events').EventEmitter,
    util = require("util"),
    _ = require("underscore"),
    BufferStack = require("./BufferStack")

    ;


module.exports = Client;

/**
 *
 * @class Client
 * @namespace Ompimon.Cluster
 *
 * @param socket {Socket}
 * @constructor
 */
function Client (socket) {
    eventEmitter.call(this);
    this.init(socket);
}

util.inherits(Client, eventEmitter);

_.extend(Client.prototype, {
    /**
     * Socket of client
     * @property socket
     * @type Socket
     */
    socket: null,
    /**
     * Whether this client is authenticated
     * @property authenticated
     * @type Boolean
     * @default false
     */
    authenticated: false,
    /**
     * Buffers received by this client
     * @property buffers
     * @type Ompimon.Cluster.BufferStack
     */
    buffers: null,
    init: function(socket) {
        this.socket = socket;
        this.buffers = new BufferStack();
    }
});